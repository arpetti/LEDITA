<div class="container top-margin">
<div class="row-fluid">
<div class="span3">
    <div id="sidebar">
        <!--
        <div>
            <a ng-href="#">
                <!-- TODO: IF liked -> class likedButton, ELSE class likeButton

                <div class="likeButton">
                    <!-- TODO: Like button. If the LD is already liked, add class 'icon-white'.
                    Like <i class="icon-thumbs-up "></i>
                </div>
            </a>
        </div>
        -->
        <h4 id="sidebarHeader">General Info</h4>

        <div>
            <h5 class="zeroMargin date"><i class="icon-pencil"></i> Author:</h5>
            <a href="#" class="zeroMargin">{{ learningDesign.user_name}} {{ learningDesign.user_last_name}}</a>
        </div>
        <div class="marginTopSidebar">
            <h5 class="zeroMargin date "><i class="icon-calendar"></i> Created in:</h5>
            <span class="zeroMargin">{{learningDesign.ld_creation_date | date:'yyyy-MM-dd'}}</span>
        </div>

        <!-- FIXME: dynamic data with typeahead -->
        <div class="clear marginTopSidebar"><h5 class="zeroMargin"><i class="icon-map-marker"></i> Topics:</h5>

            <form ng-submit="addSubject()" class="sidebarForm">
                <input type="text" class="sidebarInput" ng-model="subject" placeholder="add new topic">
                <button class="btn sidebarButton" type="submit" ><i class="icon-plus-sign icon-white"></i> </button>
            </form>
            <ul ng-repeat="subject in learningDesign.subjects" class="zeroMargin subjects">
                <li class="sidebarEditItem"><span class="sidebarEditItemLink">{{subject.subject_name}} <a ng-href="#" ><i class="icon-remove-circle"></i> </a></span></li>
            </ul>
        </div>
        <!-- FIXME: dynamic data with typeahead -->
        <div class="clear marginTopSidebar"><h5 class="zeroMargin"><i class="icon-tasks"></i> Objectives:</h5>
            <form ng-submit="addAims()" class="sidebarForm">
                <input type="text" class="sidebarInput" ng-model="aims" placeholder="add new objective">
                <button class="btn sidebarButton" type="submit" ><i class="icon-plus-sign icon-white"></i> </button>
            </form>
            <ul ng-repeat="objective in learningDesign.objectives" class="zeroMargin objectives">
                <li class="sidebarEditItem"><span class="sidebarEditItemLink">{{objective.objective_descr}} <a ng-href="#" ><i class="icon-remove-circle"></i> </a></span>
                </li>
            </ul>
        </div>
        <!-- FIXME: dynamic data with typeahead -->
        <div class="clear marginTopSidebar"><h5 class="zeroMargin"><i class="icon-backward"></i> Pre-Requisites:</h5>
            <form ng-submit="addNeeds()" class="sidebarForm">
                <input type="text" class="sidebarInput" ng-model="needs" placeholder="add new pre-requisites">
                <button class="btn sidebarButton" type="submit" ><i class="icon-plus-sign icon-white"></i> </button>
            </form>
            <ul ng-repeat="prereq in learningDesign.prerequisites" class="zeroMargin prerequisites">
                <li class="sidebarEditItem"><span  class="sidebarEditItemLink">{{prereq.prereq_name}} <a ng-href="#" ><i class="icon-remove-circle"></i> </a></span>
                </li>
            </ul>
        </div>
        <!-- FIXME: dynamic data -->
        <div class="clear marginTopSidebar">
            <h5 class="zeroMargin"><i class="icon-user"></i> Students' Description:</h5>
            <form class="sidebarForm">
                <textarea class="sidebarTextarea" rows="4">{{ learningDesign.ld_students_profile }}</textarea>

            </form>

        </div>

        <!-- TODO: 2nd phase - Tag system -->
        <!--

     <div class="clear marginTop"><h5 class=" zeroMargin">Tags:</h5>

         <ul class="zeroMargin">
             <li class="sidebarItem"><a ng-href="#" class="sidebarItemLink">item n. 1</a></li>
             <li class="sidebarItem"><a ng-href="#" class="sidebarItemLink">item n. 2</a></li>
             <li class="sidebarItem"><a ng-href="#" class="sidebarItemLink">item number 3</a></li>
         </ul>

     </div>

     -->

        <!-- TODO: 1st phase - Service for name of father and children LDs -->


        <div class="clearfix"></div>
        <div class="clear marginTopSidebar">
            <h5 class="zeroMargin"><i class="icon-bullhorn"></i> Publication:</h5>
            <!-- FIXME: dynamic data for publication -->

            <div class="onoffswitch">
                <input type="checkbox" name="onoffswitch" class="onoffswitch-checkbox" id="myonoffswitch">
                <label class="onoffswitch-label" for="myonoffswitch">
                    <div class="onoffswitch-inner"></div>
                    <div class="onoffswitch-switch"></div>
                </label>
            </div>

            <div class="clearfix"></div>
        </div>

        <!--Sidebar content-->

    </div>
</div>


<div id="content" class="span9">

<tabset type="pills">
<div id="contentButtons">
    <tab-heading>
        <button class="btnContent" ng-class="isBtnActive(data.static1)" ng-click="data.static1 = true"><img
                src="../../img/board.png" class="btnImage"> Global View
        </button>
    </tab-heading>
    <tab-heading>
        <button class="btnContent" ng-class="isBtnActive(data.static2)" ng-click="data.static2 = true"><img
                src="../../img/teacher.png"
                class="btnImage"> Teacher View
        </button>
    </tab-heading>
    <button class="btnContent" ng-class="isBtnActive(data.static3)" ng-click="data.static3 = true"><img
            src="../../img/student.png"
            class="btnImage"> Student View
    </button>
</div>





<div id="contentBody">
    <div id="contentHeader">
        <div class="titleEdit">
            <!-- FIXME: dynamic data -->

            <input placeholder="{{learningDesign.ld_name }}" class="titleLDInput" >

            <!-- FIXME: dynamic data with with ng-repeater as in index.html modal -->
            <div class="titleQcer"> <span ng-repeat="qcer in learningDesign.qcers" class="qcerCheck ">
                	<input type="checkbox" ng-model="selectedQcers[qceropt.id]"> {{ qcer.qcer_name }}</span></div>

            <!-- FIXME: dynamic data with typeahead -->
            <div class="titleScope"><input class="scopeLDInput" placeholder="{{learningDesign.ld_scope }}"></div>
        </div>
    </div>
</div>





<tab active="data.static1">


    <div class="tabContent">
        <div class="newActBox">
            <a href="#">
                <span class="newActButton1"><i class="icon-plus icon-white"></i> Activity</span>
                <span class="newActButton2"><i class="icon-plus icon-white"></i> Design</span>
                <span class="newActButton3"><i class="icon-plus icon-white"></i> Group</span>
    </a>
        </div>

        <!-- BEGIN DYNAMIC ACTIVITY CONTENT (Global View) -->
        <div ng-repeat="(level, nodes) in levels" class="levelBox">
            <div ng-repeat="node in nodes" ng-class="getBoxClass(node)" id="node">
                <!-- If it's a group:  -->
                <div ng-show="node.children" class="groupName">{{ node.node_name }}</div>
                <div class="clearfix"></div>
                <!-- Children are also in levels: Create unstyled div for each level -->
                <div ng-repeat="(childLevel, subChildren) in node.children" class="levelBoxChild">
                    <div ng-repeat="child in subChildren" ng-class="getGroupBoxClass(child)">
                        <div class="tools">
                            <a class="edit" ng-href="#"><i class="icon-edit icon-white"></i> </a>
                            <a class="delete" ng-href="#"><i class="icon-remove icon-white"></i> </a>
                            <span class="clearfix"></span>
                        </div>
                        <a class="whiteText childModalLink" ng-click="open(child)"><h6 class="actName">{{
                            child.group_child_name }}</h6>

                            <div class="actLabel" ng-show="child.group_child_type!='LD'">
                                <span class="timeLabel"><i class="icon-time icon-white"></i> {{ child | durationDisplay}} <span
                                        ng-show="!(child | durationDisplay)"> Free</span></span>
                                <span class="orgLabel"><i
                                        class="icon-th-large icon-white"></i> {{ child.org_label}}</span>
                            </div>
                            <div class="actLabel" ng-show="child.group_child_type=='LD'">
                                <span class="timeLabel"><i class="icon-time icon-white"></i> {{ child.scope}}</span>
                                    <span class="orgLabel"><i class="icon-flag icon-white"
                                                              ng-show="child.qcers"></i> <span
                                            ng-repeat="qcer in child.qcers">{{ qcer.qcer_name }} </span></span>
                            </div>
                        </a>
                    </div>
                </div>
                <!-- End Children -->
                <!-- If it's NOT a group:  -->
                <div ng-show="!node.children" class="actName"><div class="tools">
                    <a class="edit" ng-href="#"><i class="icon-edit icon-white"></i> </a>
                    <a class="delete" ng-href="#"><i class="icon-remove icon-white"></i> </a>
                    <span class="clearfix"></span>
                </div><a class="whiteText" ng-click="open(node)">
                    <h6>{{ node.node_name }}</h6>

                    <div class="actLabel" ng-show="node.type!='LD'">
                            <span class="timeLabel"><i
                                    class="icon-time icon-white"></i> {{ node | durationDisplay }} <span
                                    ng-show="!(node | durationDisplay)"> Free</span> </span>
                        <span class="orgLabel"><i class="icon-th-large icon-white"></i> {{ node.org_label }}</span>
                    </div>
                    <div class="actLabel" ng-show="node.type=='LD'">
                        <span class="timeLabel"><i class="icon-time icon-white"></i> {{ node.scope }}</span>
                            <span class="orgLabel"><i class="icon-flag icon-white" ng-show="node.qcers"></i> <span
                                    ng-repeat="qcer in node.qcers"> {{ qcer.qcer_name }} </span></span>
                    </div>
                </a>
                </div>
            </div>
            <!-- End Activity or Group Box -->
        </div>
        <div id="activityErrors" ng-show="alertMsg" class="alert alert-warning">
            {{ alertMsg }}
        </div>

        <!-- End Level Box -->
        <!-- END DYNAMIC ACTIVITY CONTENT (Global View) -->


        <!-- BEGIN DYNAMIC ACTIVITY CONTENT (Modal View) -->
        <div id="modalView" modal="shouldBeOpen" close="close()" options="opts">
            <div class="modal-header">
                <h4>Activity Details</h4>
                <button id="activityModalClose" class="btn modalButton float-right" ng-click="close()">x</button>
                <div class="clearfix"></div>
            </div>

            <div class="modal-body">

                <!-- If it's a group:  -->

                <div ng-show="selectedNode.group_child_id" class="groupBoxText">
                    <h4 class="groupNameText"> {{ selectedNode.group_name }} </h4>

                    <div class="clearfix"></div>
                    <!-- Children in groups are organized by level, create unstyled div for each level -->
                    <div>
                        <div>
                            <h5 class="nodeNameText">{{ selectedNode.displayName }}</h5>
                                 <span ng-show="selectedNode.group_child_type!='LD'">
                                    <activitydetail showped="true" node="selectedNode"></activitydetail>
                                 </span>
                                <span ng-show="selectedNode.group_child_type=='LD'">
                                    <lddetail node='selectedNode'></lddetail>
                                </span>
                        </div>
                    </div>
                </div>
                <!-- End Children -->
                <!-- If it's NOT a group:  -->
                <div ng-show="!selectedNode.group_child_id"><h5 class="nodeNameText">{{ selectedNode.displayName }}</h5>
                        <span ng-show="selectedNode.type!='LD'">
                            <activitydetail showped="true" node="selectedNode"></activitydetail>
                        </span>
                                <span ng-show="selectedNode.type=='LD'">
                                    <lddetail node='selectedNode'></lddetail>
                                </span>
                </div>
                <!-- End Activity or Group Box -->
                <div id="activityErrors" ng-show="alertMsg" class="alert alert-warning">
                    {{ alertMsg }}
                </div>
                <!-- End Level Box -->
            </div>
            <div class="modal-footer">
            </div>
        </div>
        <!-- END DYNAMIC ACTIVITY CONTENT (Modal)-->

        <div class="clearfix"></div>
    </div>
</tab>
<tab active="data.static2">

    <div class="tabContent">
        <!-- BEGIN DYNAMIC ACTIVITY CONTENT (Teacher View) -->
        <div ng-repeat="(level, nodes) in levels" class="teacherLevel">
            <div ng-repeat="node in nodes" class="nodeText">
                <!-- If it's a group:  -->
                <div ng-show="node.children" class="groupBoxText">
                    <h4 class="groupNameText"> {{ node.node_name }} </h4>

                    <div class="clearfix"></div>
                    <!-- Children in groups are organized by level, create unstyled div for each level -->
                    <div ng-repeat="(childLevel, subChildren) in node.children">
                        <div ng-repeat="child in subChildren">
                            <h5 class="nodeNameText">{{ child.group_child_name }}</h5>
                                 <span ng-show="child.group_child_type!='LD'">
                                    <activitydetail showped="true" node="child"></activitydetail>
                                 </span>
                                <span ng-show="child.group_child_type=='LD'">
                                    <lddetail node='child'></lddetail>
                                </span>
                        </div>
                    </div>
                </div>
                <!-- End Children -->
                <!-- If it's NOT a group:  -->
                <div ng-show="!node.children"><h5 class="nodeNameText">{{ node.node_name }}</h5>
                        <span ng-show="node.type!='LD'">
                            <activitydetail showped="true" node="node"></activitydetail>
                        </span>
                                <span ng-show="node.type=='LD'">
                                    <lddetail node='node'></lddetail>
                                </span>
                </div>
            </div>
            <!-- End Activity or Group Box -->
        </div>
        <div id="activityErrors" ng-show="alertMsg" class="alert alert-warning">
            {{ alertMsg }}
        </div>

        <!-- End Level Box -->
        <!-- END DYNAMIC ACTIVITY CONTENT (Teacher View) -->
        <div class="clearfix"></div>
    </div>
</tab>
<tab active="data.static3">
    <div class="tabContent">
        <!-- BEGIN DYNAMIC ACTIVITY CONTENT (Student View) -->
        <div ng-repeat="(level, nodes) in levels" class="studentLevel">
            <div ng-repeat="node in nodes" class="nodeText">
                <!-- If it's a group:  -->
                <div ng-show="node.children" class="groupBoxText">
                    <h4 class="groupNameText"> {{ node.node_name }} </h4>

                    <div class="clearfix"></div>
                    <!-- Children are also in levels: Create unstyled div for each level -->
                    <div ng-repeat="(childLevel, subChildren) in node.children">
                        <div ng-repeat="child in subChildren">
                            <h5 class="nodeNameText">{{ child.group_child_name }}</h5>
                                  <span ng-show="child.group_child_type!='LD'">
                                    <activitydetail node="child"></activitydetail>
                                  </span>
                                  <span ng-show="child.group_child_type=='LD'">
                                    <lddetail node='child'></lddetail>
                                  </span>
                        </div>
                    </div>
                    <!-- End unstyled div for children levels -->
                </div>
                <!-- End Children -->
                <!-- If it's NOT a group:  -->
                <div ng-show="!node.children"><h5 class="nodeNameText">{{ node.node_name }}</h5>
                        <span ng-show="node.type!='LD'">
                            <activitydetail node="node"></activitydetail>
                        </span>
                        <span ng-show="node.type=='LD'">
                            <lddetail node='node'></lddetail>
                        </span>
                </div>
            </div>
            <!-- End Activity or Group Box -->
        </div>
        <div id="activityErrors" ng-show="alertMsg" class="alert alert-warning">
            {{ alertMsg }}
        </div>

        <!-- End Level Box -->
        <!-- END DYNAMIC ACTIVITY CONTENT (Student View) -->
        <div class="clearfix"></div>
    </div>
</tab>

</tabset>

</div>
</div>
<!--Body content-->
</div>
</div>
</div>